{"version":3,"file":"static/js/845.24b8fe19.chunk.js","mappings":"2NAOA,MA6EA,EA7EYA,KACV,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAYC,IAAiBF,EAAAA,EAAAA,WAAS,GAgC7C,OACEG,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,MAAA,QAAMC,SAhCWC,UACnBC,EAAEC,iBACF,MAAMC,EAAU,CACdC,MAAOH,EAAEI,OAAc,MAAEC,OAE3B,IAAIC,EAAMC,EAAAA,EAAUC,OAChBhB,IACFU,EAAQO,IAAMT,EAAEI,OAAY,IAAEC,MAC9BC,EAAMC,EAAAA,EAAUG,WAElB,MAAOC,EAASC,IAAUC,EAAAA,EAAAA,KAEpBC,QAAYC,MAAMT,EAAK,CAC3BU,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUlB,KAGvB,GAAIV,GAA6B,MAAfsB,EAAIO,OAAgB,CACpC,MAAMC,EAAU,IAAIC,MAAK,IAAIA,MAAOC,UAAY,KAChDC,EAAAA,EAAOC,IAAI,QAASxB,EAAQC,MAAO,CAAEmB,YACrCX,EAAQ,+BACRxB,EAAS,UACX,CACmB,MAAf2B,EAAIO,QAAmB7B,IACzBC,GAAc,GACdkB,EAAQ,yBACV,EAK+Bf,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBAAkBC,SAAC,cAChCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SAAOiC,QAAQ,QAAO/B,SAAC,WACvBF,EAAAA,EAAAA,KAAA,SACEkC,KAAK,QACLC,YAAY,mBACZC,KAAK,QACLC,GAAG,QACHC,UAAQ,IAETxC,IACCK,EAAAA,EAAAA,MAAAoC,EAAAA,SAAA,CAAArC,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOiC,QAAQ,MAAK/B,SAAC,SACrBF,EAAAA,EAAAA,KAAA,SACEkC,KAAK,SACLC,YAAY,gBACZC,KAAK,MACLC,GAAG,MACHC,UAAQ,OAIbxC,GACCE,EAAAA,EAAAA,KAAA,UAAQqC,GAAG,aAAapC,UAAU,aAAYC,SAAC,YAI/CF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,aAAYC,SAAC,gBAGnCC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,2BACwB,KACzBF,EAAAA,EAAAA,KAAA,QAAMwC,QAASA,IAAM/C,EAAS,UAAUS,SAAC,qBAGzC,C","sources":["feature/auth/Otp.js"],"sourcesContent":["import \"./Sigmup.scss\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport Endpoints from \"../../network/endpoints\";\r\nimport cookie from \"js-cookie\";\r\nimport notify from \"../../utlis/notify\";\r\n\r\nconst Otp = () => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [isVerifing, setIsVerifing] = useState(false);\r\n\r\n  const handelSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payLoad = {\r\n      email: e.target[\"email\"].value,\r\n    };\r\n    let url = Endpoints.getOtp;\r\n    if (isVerifing) {\r\n      payLoad.otp = e.target[\"otp\"].value;\r\n      url = Endpoints.verifyOtp;\r\n    }\r\n    const [resolve, reject] = notify();\r\n\r\n    const res = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payLoad),\r\n    });\r\n\r\n    if (isVerifing && res.status === 200) {\r\n      const expires = new Date(new Date().getTime() + 10 * 60 * 1000);\r\n      cookie.set(\"email\", payLoad.email, { expires });\r\n      resolve(\"Email verified Successfully\");\r\n      navigate(\"/signup\");\r\n    }\r\n    if (res.status === 200 && !isVerifing) {\r\n      setIsVerifing(true);\r\n      resolve(\"Otp Send Successfully\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-form\">\r\n      <form onSubmit={handelSubmit}>\r\n        <p className=\"register-heading\">Register</p>\r\n        <div className=\"form-inner\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Enter your email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            required\r\n          />\r\n          {isVerifing && (\r\n            <>\r\n              <label htmlFor=\"otp\">Otp</label>\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Enter The Otp\"\r\n                name=\"otp\"\r\n                id=\"otp\"\r\n                required\r\n              />\r\n            </>\r\n          )}\r\n          {isVerifing ? (\r\n            <button id=\"verfiy-otp\" className=\"signup-btn\">\r\n              Verify\r\n            </button>\r\n          ) : (\r\n            <button className=\"signup-btn\">Get Otp</button>\r\n          )}\r\n        </div>\r\n        <p>\r\n          Already have an acount ?{\" \"}\r\n          <span onClick={() => navigate(\"/login\")}>Login Now</span>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Otp;\r\n"],"names":["Otp","navigate","useNavigate","loading","setLoading","useState","isVerifing","setIsVerifing","_jsx","className","children","_jsxs","onSubmit","async","e","preventDefault","payLoad","email","target","value","url","Endpoints","getOtp","otp","verifyOtp","resolve","reject","notify","res","fetch","method","headers","body","JSON","stringify","status","expires","Date","getTime","cookie","set","htmlFor","type","placeholder","name","id","required","_Fragment","onClick"],"sourceRoot":""}